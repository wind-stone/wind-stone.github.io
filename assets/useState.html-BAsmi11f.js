import { r as resolveComponent, c as createElementBlock, b as createStaticVNode, a as createVNode, o as openBlock } from "./app-Dscgj__W.js";
import { _ as _export_sfc } from "./plugin-vue_export-helper-1tPrXgE0.js";
const _sfc_main = {};
function _sfc_render(_ctx, _cache) {
  const _component_global_config = resolveComponent("global-config");
  return openBlock(), createElementBlock("div", null, [
    _cache[0] || (_cache[0] = createStaticVNode('<h1 id="usestate" tabindex="-1"><a class="header-anchor" href="#usestate"><span>useState</span></a></h1><p>è‹¥æƒ³è¯¦ç»†äº†è§£ï¼Œè¯·é˜…è¯»å¦‚ä¸‹å®˜æ–¹æ–‡æ¡£ï¼š</p><ul><li><a href="https://zh-hans.react.dev/reference/react/useState" target="_blank" rel="noopener noreferrer">React å®˜æ–¹æ–‡æ¡£ - useState</a></li><li><a href="https://zh-hans.react.dev/learn/updating-objects-in-state#write-concise-update-logic-with-immer" target="_blank" rel="noopener noreferrer">React å®˜æ–¹æ–‡æ¡£ - æ›´æ–° state ä¸­çš„å¯¹è±¡</a></li></ul><h2 id="" tabindex="-1"><a class="header-anchor" href="#"><span></span></a></h2><ul><li>è°ƒç”¨ useState è¿”å›çš„æ•°æ®çš„ç¬¬äºŒé¡¹ï¼ˆå³ <code>set</code> å‡½æ•°ï¼‰ï¼Œä¼šæ›´æ–° <code>state</code> çš„å€¼å¹¶è§¦å‘å‡½æ•°ç»„ä»¶çš„é‡æ–°æ¸²æŸ“ã€‚</li></ul><h2 id="æ³¨æ„äº‹é¡¹" tabindex="-1"><a class="header-anchor" href="#æ³¨æ„äº‹é¡¹"><span>æ³¨æ„äº‹é¡¹</span></a></h2><p>æ–°æ‰‹ä½¿ç”¨<code>useState</code>ï¼Œéœ€è¦æ³¨æ„å¦‚ä¸‹äº‹é¡¹ã€‚</p><h3 id="set-å‡½æ•°ä»…æ›´æ–°ä¸‹ä¸€æ¬¡æ¸²æŸ“çš„çŠ¶æ€å˜é‡" tabindex="-1"><a class="header-anchor" href="#set-å‡½æ•°ä»…æ›´æ–°ä¸‹ä¸€æ¬¡æ¸²æŸ“çš„çŠ¶æ€å˜é‡"><span>set å‡½æ•°ä»…æ›´æ–°ä¸‹ä¸€æ¬¡æ¸²æŸ“çš„çŠ¶æ€å˜é‡</span></a></h3><p><code>set</code> å‡½æ•°ä»…æ›´æ–°ä¸‹ä¸€æ¬¡æ¸²æŸ“çš„çŠ¶æ€å˜é‡ã€‚å¦‚æœåœ¨è°ƒç”¨ <code>set</code> å‡½æ•°åè¯»å–çŠ¶æ€å˜é‡ï¼Œåˆ™ä»ä¼šå¾—åˆ°åœ¨è°ƒç”¨ä¹‹å‰æ˜¾ç¤ºåœ¨å±å¹•ä¸Šçš„æ—§å€¼ã€‚</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> App</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    const</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;">number</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;">setNumber</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> useState</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    const</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> onButtonClick</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> () </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        setNumber</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">state</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> state</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">        console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">number</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// å½“ç¬¬ä¸€æ¬¡ç‚¹å‡»æ—¶ï¼Œè¿™é‡Œæ‰“å°çš„å€¼ä»ä¸º 0ï¼›ä¸Šä¸€è¡Œçš„èµ‹çš„å€¼ï¼Œåªä¼šå½±å“ä¸‹ä¸€æ¬¡æ¸²æŸ“ä¸­ useState è¿”å›çš„å†…å®¹</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">div</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> className</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;App&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">button</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> onClick</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">onButtonClick</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;+1ï¼ˆå½“å‰å€¼ä¸º </span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">number</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">ï¼‰&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">button</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        &lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">div</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    );</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æ–°å€¼ä¸æ—§å€¼ç›¸åŒæ—¶è·³è¿‡ç»„ä»¶çš„é‡æ–°æ¸²æŸ“" tabindex="-1"><a class="header-anchor" href="#æ–°å€¼ä¸æ—§å€¼ç›¸åŒæ—¶è·³è¿‡ç»„ä»¶çš„é‡æ–°æ¸²æŸ“"><span>æ–°å€¼ä¸æ—§å€¼ç›¸åŒæ—¶è·³è¿‡ç»„ä»¶çš„é‡æ–°æ¸²æŸ“</span></a></h3><p>å¦‚æœä½ æä¾›çš„æ–°å€¼ä¸å½“å‰ <code>state</code> ç›¸åŒï¼ˆç”± <code>Object.is</code> æ¯”è¾ƒç¡®å®šï¼‰ï¼ŒReact å°†è·³è¿‡é‡æ–°æ¸²æŸ“è¯¥ç»„ä»¶åŠå…¶å­ç»„ä»¶ã€‚è¿™æ˜¯ä¸€ç§ä¼˜åŒ–ã€‚è™½ç„¶åœ¨æŸäº›æƒ…å†µä¸‹ React ä»ç„¶éœ€è¦åœ¨è·³è¿‡å­ç»„ä»¶ä¹‹å‰è°ƒç”¨ä½ çš„ç»„ä»¶ï¼Œä½†è¿™ä¸åº”å½±å“ä½ çš„ä»£ç ã€‚</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> clickTimes</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> App</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    const</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;">number</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;">setNumber</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> useState</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    const</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> onButtonClick</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> () </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        setNumber</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">        clickTimes</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">++</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">        console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;onButtonClick&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">clickTimes</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// ç‚¹å‡»å¤šæ¬¡æŒ‰é’®ï¼Œä¼šæ‰“å°å¤šæ¬¡</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">    console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;å‡½æ•°ç»„ä»¶æ¸²æŸ“&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">clickTimes</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// è¿™é‡Œåªä¼šåœ¨ç»„ä»¶åˆå§‹åŒ–æ—¶æ‰“å°ä¸€æ¬¡ï¼Œå› ä¸º onButtonClick é‡Œç»™ number èµ‹çš„æ–°å€¼ä¸æ—§å€¼ç›¸åŒï¼Œä¸ä¼šè§¦å‘ç»„ä»¶çš„é‡æ–°æ¸²æŸ“</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">div</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> className</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;App&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">button</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> onClick</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">onButtonClick</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;+1ï¼ˆå½“å‰å€¼ä¸º </span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">number</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">ï¼‰&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">button</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        &lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">div</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    );</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æ‰¹é‡å¤„ç†çŠ¶æ€æ›´æ–°" tabindex="-1"><a class="header-anchor" href="#æ‰¹é‡å¤„ç†çŠ¶æ€æ›´æ–°"><span>æ‰¹é‡å¤„ç†çŠ¶æ€æ›´æ–°</span></a></h3><p>React ä¼š æ‰¹é‡å¤„ç†çŠ¶æ€æ›´æ–°ã€‚å®ƒä¼šåœ¨æ‰€æœ‰ äº‹ä»¶å¤„ç†å‡½æ•°è¿è¡Œ å¹¶è°ƒç”¨å…¶ set å‡½æ•°åæ›´æ–°å±å¹•ã€‚è¿™å¯ä»¥é˜²æ­¢åœ¨å•ä¸ªäº‹ä»¶æœŸé—´å¤šæ¬¡é‡æ–°æ¸²æŸ“ã€‚åœ¨æŸäº›ç½•è§æƒ…å†µä¸‹ï¼Œä½ éœ€è¦å¼ºåˆ¶ React æ›´æ—©åœ°æ›´æ–°å±å¹•ï¼Œä¾‹å¦‚è®¿é—® DOMï¼Œä½ å¯ä»¥ä½¿ç”¨ flushSyncã€‚</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> App</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    const</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;">number</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;">setNumber</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> useState</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    const</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> onButtonClick</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> () </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        setNumber</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">state</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> state</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        setNumber</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">state</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> state</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        setNumber</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">state</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> state</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">    console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;å‡½æ•°ç»„ä»¶æ¸²æŸ“&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">number</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// ç‚¹å‡»ä¸€æ¬¡æŒ‰é’®ï¼Œä¼šè§¦å‘ä¸€æ¬¡é‡æ–°æ¸²æŸ“ï¼Œè€Œä¸æ˜¯ä¸‰æ¬¡ï¼Œè¿™é‡Œåªä¼šæ‰“å°ä¸€æ¬¡ï¼Œæ‰“å°ç»“æœæ˜¯ï¼šå‡½æ•°ç»„ä»¶æ¸²æŸ“ 3</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">div</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> className</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;App&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">button</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> onClick</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">onButtonClick</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;+1ï¼ˆå½“å‰å€¼ä¸º </span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">number</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">ï¼‰&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">button</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        &lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">div</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    );</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æ›´æ–°çŠ¶æ€ä¸­çš„å¯¹è±¡å’Œæ•°ç»„" tabindex="-1"><a class="header-anchor" href="#æ›´æ–°çŠ¶æ€ä¸­çš„å¯¹è±¡å’Œæ•°ç»„"><span>æ›´æ–°çŠ¶æ€ä¸­çš„å¯¹è±¡å’Œæ•°ç»„</span></a></h3><p>ä½ å¯ä»¥å°†å¯¹è±¡å’Œæ•°ç»„æ”¾å…¥çŠ¶æ€ä¸­ã€‚åœ¨ React ä¸­ï¼ŒçŠ¶æ€è¢«è®¤ä¸ºæ˜¯åªè¯»çš„ï¼Œå› æ­¤ ä½ åº”è¯¥æ›¿æ¢å®ƒè€Œä¸æ˜¯æ”¹å˜ç°æœ‰å¯¹è±¡ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ åœ¨çŠ¶æ€ä¸­ä¿å­˜äº†ä¸€ä¸ª <code>form</code> å¯¹è±¡ï¼Œè¯·ä¸è¦æ”¹å˜å®ƒï¼š</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// ğŸš© ä¸è¦åƒä¸‹é¢è¿™æ ·æ”¹å˜ä¸€ä¸ªå¯¹è±¡ï¼š</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">form</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">firstName</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;Taylor&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>ç›¸åï¼Œå¯ä»¥é€šè¿‡åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡æ¥æ›¿æ¢æ•´ä¸ªå¯¹è±¡ï¼š</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// âœ… ä½¿ç”¨æ–°å¯¹è±¡æ›¿æ¢ state</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">setForm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">({</span></span>\n<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">    ...</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">form</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    firstName</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;Taylor&#39;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">});</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="é¿å…é‡å¤åˆ›å»ºåˆå§‹çŠ¶æ€" tabindex="-1"><a class="header-anchor" href="#é¿å…é‡å¤åˆ›å»ºåˆå§‹çŠ¶æ€"><span>é¿å…é‡å¤åˆ›å»ºåˆå§‹çŠ¶æ€</span></a></h3><p>React åªåœ¨åˆæ¬¡æ¸²æŸ“æ—¶ä¿å­˜åˆå§‹çŠ¶æ€ï¼Œåç»­æ¸²æŸ“æ—¶å°†å…¶å¿½ç•¥ã€‚</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> TodoList</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    const</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;">todos</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;">setTodos</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> useState</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">createInitialTodos</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// æ¯æ¬¡æ¸²æŸ“éƒ½ä¼šè°ƒç”¨ createInitialTodos</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // ...</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å°½ç®¡ <code>createInitialTodos()</code> çš„ç»“æœä»…ç”¨äºåˆå§‹æ¸²æŸ“ï¼Œä½†ä½ ä»ç„¶åœ¨æ¯æ¬¡æ¸²æŸ“æ—¶è°ƒç”¨æ­¤å‡½æ•°ã€‚å¦‚æœå®ƒåˆ›å»ºå¤§æ•°ç»„æˆ–æ‰§è¡Œæ˜‚è´µçš„è®¡ç®—ï¼Œè¿™å¯èƒ½ä¼šæµªè´¹èµ„æºã€‚</p><p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½ å¯ä»¥å°†å®ƒ ä½œä¸ºåˆå§‹åŒ–å‡½æ•°ä¼ é€’ç»™ <code>useState</code>ï¼š</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> TodoList</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    const</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;">todos</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;">setTodos</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> useState</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">createInitialTodos</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// ä»…åœ¨ç»„ä»¶åˆå§‹åŒ–æ—¶è°ƒç”¨ä¸€æ¬¡ createInitialTodos</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // ...</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¯·æ³¨æ„ï¼Œä½ ä¼ é€’çš„æ˜¯ <code>createInitialTodos</code> å‡½æ•°æœ¬èº«ï¼Œè€Œä¸æ˜¯ <code>createInitialTodos()</code> è°ƒç”¨è¯¥å‡½æ•°çš„ç»“æœã€‚å¦‚æœå°†å‡½æ•°ä¼ é€’ç»™ <code>useState</code>ï¼ŒReact ä»…åœ¨åˆå§‹åŒ–æœŸé—´è°ƒç”¨å®ƒã€‚</p><h3 id="ä½¿ç”¨-key-é‡ç½®ç»„ä»¶çŠ¶æ€" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨-key-é‡ç½®ç»„ä»¶çŠ¶æ€"><span>ä½¿ç”¨ key é‡ç½®ç»„ä»¶çŠ¶æ€</span></a></h3><p>åœ¨ æ¸²æŸ“åˆ—è¡¨ æ—¶ï¼Œä½ ç»å¸¸ä¼šé‡åˆ° <code>key</code> å±æ€§ã€‚ç„¶è€Œï¼Œå®ƒè¿˜æœ‰å¦å¤–ä¸€ä¸ªç”¨é€”ã€‚</p><p>ä½ å¯ä»¥é€šè¿‡å‘ç»„ä»¶ä¼ é€’ä¸åŒçš„ <code>key</code> æ¥é‡ç½®ç»„ä»¶çš„çŠ¶æ€ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œé‡ç½®æŒ‰é’®æ”¹å˜ <code>version</code> çŠ¶æ€å˜é‡ï¼Œæˆ‘ä»¬å°†å®ƒä½œä¸ºä¸€ä¸ª <code>key</code> ä¼ é€’ç»™ <code>Form</code> ç»„ä»¶ã€‚å½“ <code>key</code> æ”¹å˜æ—¶ï¼ŒReact ä¼šä»å¤´å¼€å§‹é‡æ–°åˆ›å»º <code>Form</code> ç»„ä»¶ï¼ˆä»¥åŠå®ƒçš„æ‰€æœ‰å­ç»„ä»¶ï¼‰ï¼Œæ‰€ä»¥å®ƒçš„çŠ¶æ€è¢«é‡ç½®äº†ã€‚</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">useState</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;react&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> default</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> function</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> App</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  const</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;">version</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;">setVersion</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> useState</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  function</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> handleReset</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    setVersion</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">version</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  return</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;&gt;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">button</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> onClick</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">handleReset</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;Reset&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">button</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      &lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Form</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> key</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">version</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /&gt;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;/&gt;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  );</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> Form</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  const</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;">setName</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> useState</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;Taylor&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  return</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;&gt;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">input</span></span>\n<span class="line"><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;">        value</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">}</span></span>\n<span class="line"><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;">        onChange</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">e</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =&gt;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> setName</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">target</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">}</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      /&gt;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">p</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;Hello, </span><span style="--shiki-light:#CA1243;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#CA1243;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">p</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;/&gt;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  );</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ“ä½œæ­¥éª¤ï¼Œä¸Šè¿°ç»„ä»¶æ¸²æŸ“åï¼Œ<code>p</code> æ ‡ç­¾å†…æ˜¾ç¤ºçš„æ˜¯ <code>Hello, Taylor.</code>ã€‚</p><p>æ­¤æ—¶ä¿®æ”¹ <code>input</code> çš„å€¼ä¸º <code>Taylor2</code>ï¼Œåˆ™ <code>p</code> æ ‡ç­¾å†…æ˜¾ç¤ºçš„æ˜¯ <code>Hello, Taylor2.</code>ã€‚</p><p>ç´§æ¥ç€ï¼Œç‚¹å‡» <code>button</code> ä¼šå°† <code>version</code> æ”¹ä¸º <code>1</code>ï¼Œæ­¤æ—¶ä¼šå‘ç°<code>p</code> æ ‡ç­¾å†…è¢«é‡ç½®ä¸º <code>Hello, Taylor.</code></p><h3 id="å¦‚ä½•å°†-state-è®¾ç½®æˆä¸€ä¸ªå‡½æ•°" tabindex="-1"><a class="header-anchor" href="#å¦‚ä½•å°†-state-è®¾ç½®æˆä¸€ä¸ªå‡½æ•°"><span>å¦‚ä½•å°† state è®¾ç½®æˆä¸€ä¸ªå‡½æ•°</span></a></h3><p>ä½ ä¸èƒ½åƒè¿™æ ·æŠŠå‡½æ•°æ”¾å…¥çŠ¶æ€ï¼š</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;">fn</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;">setFn</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> useState</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">someFunction</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> handleClick</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    setFn</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">someOtherFunction</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å› ä¸ºä½ ä¼ é€’äº†ä¸€ä¸ªå‡½æ•°ï¼ŒReact è®¤ä¸º <code>someFunction</code> æ˜¯ä¸€ä¸ªåˆå§‹åŒ–å‡½æ•°ï¼Œè€Œ <code>someOtherFunction</code> æ˜¯ä¸€ä¸ª æ›´æ–°å‡½æ•°ï¼Œäºæ˜¯å®ƒå°è¯•è°ƒç”¨å®ƒä»¬å¹¶å­˜å‚¨ç»“æœã€‚è¦å®é™… å­˜å‚¨ä¸€ä¸ªå‡½æ•°ï¼Œä½ å¿…é¡»åœ¨ä¸¤ç§æƒ…å†µä¸‹åœ¨å®ƒä»¬ä¹‹å‰åŠ ä¸Š <code>() =&gt;</code>ã€‚ç„¶å React å°†å­˜å‚¨ä½ ä¼ é€’çš„å‡½æ•°ã€‚</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;">fn</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;">setFn</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> useState</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> someFunction</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> handleClick</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  setFn</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> someOtherFunction</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ä½¿ç”¨-immer-ç¼–å†™ç®€æ´çš„æ›´æ–°é€»è¾‘" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨-immer-ç¼–å†™ç®€æ´çš„æ›´æ–°é€»è¾‘"><span>ä½¿ç”¨ Immer ç¼–å†™ç®€æ´çš„æ›´æ–°é€»è¾‘</span></a></h3><p>å¦‚æœä½ çš„ <code>state</code> æœ‰å¤šå±‚çš„åµŒå¥—ï¼Œä½ æˆ–è®¸åº”è¯¥è€ƒè™‘ å°†å…¶æ‰å¹³åŒ–ã€‚ä½†æ˜¯ï¼Œå¦‚æœä½ ä¸æƒ³æ”¹å˜ <code>state</code> çš„æ•°æ®ç»“æ„ï¼Œä½ å¯èƒ½æ›´å–œæ¬¢ç”¨ä¸€ç§æ›´ä¾¿æ·çš„æ–¹å¼æ¥å®ç°åµŒå¥—å±•å¼€çš„æ•ˆæœã€‚Immer æ˜¯ä¸€ä¸ªéå¸¸æµè¡Œçš„åº“ï¼Œå®ƒå¯ä»¥è®©ä½ ä½¿ç”¨ç®€ä¾¿ä½†å¯ä»¥ç›´æ¥ä¿®æ”¹çš„è¯­æ³•ç¼–å†™ä»£ç ï¼Œå¹¶ä¼šå¸®ä½ å¤„ç†å¥½å¤åˆ¶çš„è¿‡ç¨‹ã€‚é€šè¿‡ä½¿ç”¨ Immerï¼Œä½ å†™å‡ºçš„ä»£ç çœ‹èµ·æ¥å°±åƒæ˜¯ä½ â€œæ‰“ç ´äº†è§„åˆ™â€è€Œç›´æ¥ä¿®æ”¹äº†å¯¹è±¡ï¼š</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">useImmer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;use-immer&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> default</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> function</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> Form</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    const</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;">person</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;">updatePerson</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> useImmer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">({</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        name</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;Niki de Saint Phalle&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    });</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    function</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> handleNameChange</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        updatePerson</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">draft</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">            draft</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">target</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        });</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // ...</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½†æ˜¯ä¸åŒäºä¸€èˆ¬çš„ <code>mutation</code>ï¼Œå®ƒå¹¶ä¸ä¼šè¦†ç›–ä¹‹å‰çš„ <code>state</code>ï¼</p><p>ç”± Immer æä¾›çš„ <code>draft</code> æ˜¯ä¸€ç§ç‰¹æ®Šç±»å‹çš„å¯¹è±¡ï¼Œè¢«ç§°ä¸º Proxyï¼Œå®ƒä¼šè®°å½•ä½ ç”¨å®ƒæ‰€è¿›è¡Œçš„æ“ä½œã€‚è¿™å°±æ˜¯ä½ èƒ½å¤Ÿéšå¿ƒæ‰€æ¬²åœ°ç›´æ¥ä¿®æ”¹å¯¹è±¡çš„åŸå› æ‰€åœ¨ï¼ä»åŸç†ä¸Šè¯´ï¼ŒImmer ä¼šå¼„æ¸…æ¥š <code>draft</code> å¯¹è±¡çš„å“ªäº›éƒ¨åˆ†è¢«æ”¹å˜äº†ï¼Œå¹¶ä¼šä¾ç…§ä½ çš„ä¿®æ”¹åˆ›å»ºå‡ºä¸€ä¸ªå…¨æ–°çš„å¯¹è±¡ã€‚</p><h2 id="åŸç†è¯´æ˜" tabindex="-1"><a class="header-anchor" href="#åŸç†è¯´æ˜"><span>åŸç†è¯´æ˜</span></a></h2><h3 id="å¦‚ä½•æ›´æ–°-state-ä¸­çš„å¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#å¦‚ä½•æ›´æ–°-state-ä¸­çš„å¯¹è±¡"><span>å¦‚ä½•æ›´æ–° state ä¸­çš„å¯¹è±¡ï¼Ÿ</span></a></h3><p>è¯¦è§ï¼š<a href="https://zh-hans.react.dev/learn/updating-objects-in-state#write-concise-update-logic-with-immer" target="_blank" rel="noopener noreferrer">React å®˜æ–¹æ–‡æ¡£ - æ›´æ–° state ä¸­çš„å¯¹è±¡</a></p><p>æ‘˜è¦ï¼š</p><ul><li>å°† React ä¸­æ‰€æœ‰çš„ <code>state</code> éƒ½è§†ä¸ºä¸å¯ç›´æ¥ä¿®æ”¹çš„ã€‚</li><li>å½“ä½ åœ¨ <code>state</code> ä¸­å­˜æ”¾å¯¹è±¡æ—¶ï¼Œç›´æ¥ä¿®æ”¹å¯¹è±¡å¹¶ä¸ä¼šè§¦å‘é‡æ¸²æŸ“ï¼Œå¹¶ä¼šæ”¹å˜å‰ä¸€æ¬¡æ¸²æŸ“â€œå¿«ç…§â€ä¸­ <code>state</code> çš„å€¼ã€‚</li><li>ä¸è¦ç›´æ¥ä¿®æ”¹ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œè¦ä¸ºå®ƒåˆ›å»ºä¸€ä¸ª<strong>æ–°</strong>ç‰ˆæœ¬ï¼Œå¹¶é€šè¿‡æŠŠ <code>state</code> è®¾ç½®æˆè¿™ä¸ªæ–°ç‰ˆæœ¬æ¥è§¦å‘é‡æ–°æ¸²æŸ“ã€‚</li><li>ä½ å¯ä»¥ä½¿ç”¨è¿™æ ·çš„ <code>{...obj, something: &#39;newValue&#39;}</code> å¯¹è±¡å±•å¼€è¯­æ³•æ¥åˆ›å»ºå¯¹è±¡çš„æ‹·è´ã€‚</li><li>å¯¹è±¡çš„å±•å¼€è¯­æ³•æ˜¯æµ…å±‚çš„ï¼šå®ƒçš„å¤åˆ¶æ·±åº¦åªæœ‰ä¸€å±‚ã€‚</li><li>æƒ³è¦æ›´æ–°åµŒå¥—å¯¹è±¡ï¼Œä½ éœ€è¦ä»ä½ æ›´æ–°çš„ä½ç½®å¼€å§‹è‡ªåº•å‘ä¸Šä¸ºæ¯ä¸€å±‚éƒ½åˆ›å»ºæ–°çš„æ‹·è´ã€‚</li><li>æƒ³è¦å‡å°‘é‡å¤çš„æ‹·è´ä»£ç ï¼Œå¯ä»¥ä½¿ç”¨ Immerã€‚</li></ul><h3 id="ä¸ºä»€ä¹ˆåœ¨-react-ä¸­ä¸æ¨èç›´æ¥ä¿®æ”¹-state" tabindex="-1"><a class="header-anchor" href="#ä¸ºä»€ä¹ˆåœ¨-react-ä¸­ä¸æ¨èç›´æ¥ä¿®æ”¹-state"><span>ä¸ºä»€ä¹ˆåœ¨ React ä¸­ä¸æ¨èç›´æ¥ä¿®æ”¹ stateï¼Ÿ</span></a></h3><p>æœ‰ä»¥ä¸‹å‡ ä¸ªåŸå› ï¼š</p><ul><li><strong>è°ƒè¯•</strong>ï¼šå¦‚æœä½ ä½¿ç”¨ <code>console.log</code> å¹¶ä¸”ä¸ç›´æ¥ä¿®æ”¹ <code>state</code>ï¼Œä½ ä¹‹å‰æ—¥å¿—ä¸­çš„ <code>state</code> çš„å€¼å°±ä¸ä¼šè¢«æ–°çš„ <code>state</code> å˜åŒ–æ‰€å½±å“ã€‚è¿™æ ·ä½ å°±å¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ°ä¸¤æ¬¡æ¸²æŸ“ä¹‹é—´ <code>state</code> çš„å€¼å‘ç”Ÿäº†ä»€ä¹ˆå˜åŒ–</li><li><strong>ä¼˜åŒ–</strong>ï¼šReact å¸¸è§çš„ä¼˜åŒ–ç­–ç•¥ï¼ˆæ¯”å¦‚ <a href="https://zh-hans.react.dev/reference/react/memo" target="_blank" rel="noopener noreferrer">memo</a>ï¼‰ä¾èµ–äºå¦‚æœä¹‹å‰çš„ <code>props</code> æˆ–è€… <code>state</code> çš„å€¼å’Œä¸‹ä¸€æ¬¡ç›¸åŒå°±è·³è¿‡æ¸²æŸ“ã€‚å¦‚æœä½ ä»æœªç›´æ¥ä¿®æ”¹ <code>state</code>ï¼Œé‚£ä¹ˆä½ å°±å¯ä»¥å¾ˆå¿«çœ‹åˆ° <code>state</code> æ˜¯å¦å‘ç”Ÿäº†å˜åŒ–ã€‚å¦‚æœ <code>prevObj === obj</code>ï¼Œé‚£ä¹ˆä½ å°±å¯ä»¥è‚¯å®šè¿™ä¸ªå¯¹è±¡å†…éƒ¨å¹¶æ²¡æœ‰å‘ç”Ÿæ”¹å˜ã€‚</li><li><strong>æ–°åŠŸèƒ½</strong>ï¼šæˆ‘ä»¬æ­£åœ¨æ„å»ºçš„ React çš„æ–°åŠŸèƒ½ä¾èµ–äº <code>state</code> è¢«<a href="https://zh-hans.react.dev/learn/state-as-a-snapshot" target="_blank" rel="noopener noreferrer">åƒå¿«ç…§ä¸€æ ·çœ‹å¾…</a>çš„ç†å¿µã€‚å¦‚æœä½ ç›´æ¥ä¿®æ”¹ <code>state</code> çš„å†å²ç‰ˆæœ¬ï¼Œå¯èƒ½ä¼šå½±å“ä½ ä½¿ç”¨è¿™äº›æ–°åŠŸèƒ½ã€‚</li><li><strong>éœ€æ±‚å˜æ›´</strong>ï¼šæœ‰äº›åº”ç”¨åŠŸèƒ½åœ¨ä¸å‡ºç°ä»»ä½•ä¿®æ”¹çš„æƒ…å†µä¸‹ä¼šæ›´å®¹æ˜“å®ç°ï¼Œæ¯”å¦‚å®ç°æ’¤é”€/æ¢å¤ã€å±•ç¤ºä¿®æ”¹å†å²ï¼Œæˆ–æ˜¯å…è®¸ç”¨æˆ·æŠŠè¡¨å•é‡ç½®æˆæŸä¸ªä¹‹å‰çš„å€¼ã€‚è¿™æ˜¯å› ä¸ºä½ å¯ä»¥æŠŠ <code>state</code> ä¹‹å‰çš„æ‹·è´ä¿å­˜åˆ°å†…å­˜ä¸­ï¼Œå¹¶é€‚æ—¶å¯¹å…¶è¿›è¡Œå†æ¬¡ä½¿ç”¨ã€‚å¦‚æœä¸€å¼€å§‹å°±ç”¨äº†ç›´æ¥ä¿®æ”¹ <code>state</code> çš„æ–¹å¼ï¼Œé‚£ä¹ˆåé¢è¦å®ç°è¿™æ ·çš„åŠŸèƒ½å°±ä¼šå˜å¾—éå¸¸å›°éš¾ã€‚</li><li><strong>æ›´ç®€å•çš„å®ç°</strong>ï¼šReact å¹¶ä¸ä¾èµ–äº <code>mutation</code> ï¼Œæ‰€ä»¥ä½ ä¸éœ€è¦å¯¹å¯¹è±¡è¿›è¡Œä»»ä½•ç‰¹æ®Šæ“ä½œã€‚å®ƒä¸éœ€è¦åƒå¾ˆå¤šâ€œå“åº”å¼â€çš„è§£å†³æ–¹æ¡ˆä¸€æ ·å»åŠ«æŒå¯¹è±¡çš„å±æ€§ã€æ€»æ˜¯ç”¨ä»£ç†æŠŠå¯¹è±¡åŒ…è£¹èµ·æ¥ï¼Œæˆ–è€…åœ¨åˆå§‹åŒ–æ—¶åšå…¶ä»–å·¥ä½œã€‚è¿™ä¹Ÿæ˜¯ React å…è®¸ä½ æŠŠä»»ä½•å¯¹è±¡å­˜æ”¾åœ¨ <code>state</code> ä¸­â€”â€”ä¸ç®¡å¯¹è±¡æœ‰å¤šå¤§â€”â€”è€Œä¸ä¼šé€ æˆæœ‰ä»»ä½•é¢å¤–çš„æ€§èƒ½æˆ–æ­£ç¡®æ€§é—®é¢˜çš„åŸå› ã€‚</li></ul><p>åœ¨å®è·µä¸­ï¼Œä½ ç»å¸¸å¯ä»¥â€œä¾¥å¹¸â€ç›´æ¥ä¿®æ”¹ <code>state</code> è€Œä¸å‡ºç°ä»€ä¹ˆé—®é¢˜ï¼Œä½†æ˜¯æˆ‘ä»¬å¼ºçƒˆå»ºè®®ä½ ä¸è¦è¿™æ ·åšï¼Œè¿™æ ·ä½ å°±å¯ä»¥ä½¿ç”¨æˆ‘ä»¬ç§‰æ‰¿ç€è¿™ç§ç†å¿µå¼€å‘çš„ React æ–°åŠŸèƒ½ã€‚æœªæ¥çš„è´¡çŒ®è€…ç”šè‡³æ˜¯ä½ æœªæ¥çš„è‡ªå·±éƒ½ä¼šæ„Ÿè°¢ä½ çš„ï¼</p>', 54)),
    createVNode(_component_global_config)
  ]);
}
const useState_html = /* @__PURE__ */ _export_sfc(_sfc_main, [["render", _sfc_render], ["__file", "useState.html.vue"]]);
const data = JSON.parse('{"path":"/react/hooks/useState.html","title":"useState","lang":"en-US","frontmatter":{"description":"useState è‹¥æƒ³è¯¦ç»†äº†è§£ï¼Œè¯·é˜…è¯»å¦‚ä¸‹å®˜æ–¹æ–‡æ¡£ï¼š React å®˜æ–¹æ–‡æ¡£ - useState React å®˜æ–¹æ–‡æ¡£ - æ›´æ–° state ä¸­çš„å¯¹è±¡ è°ƒç”¨ useState è¿”å›çš„æ•°æ®çš„ç¬¬äºŒé¡¹ï¼ˆå³ set å‡½æ•°ï¼‰ï¼Œä¼šæ›´æ–° state çš„å€¼å¹¶è§¦å‘å‡½æ•°ç»„ä»¶çš„é‡æ–°æ¸²æŸ“ã€‚ æ³¨æ„äº‹é¡¹ æ–°æ‰‹ä½¿ç”¨useStateï¼Œéœ€è¦æ³¨æ„å¦‚ä¸‹äº‹é¡¹ã€‚ set å‡½æ•°ä»…æ›´æ–°ä¸‹ä¸€æ¬¡æ¸²æŸ“çš„...","head":[["meta",{"property":"og:url","content":"https://blog.windstone.cc/react/hooks/useState.html"}],["meta",{"property":"og:site_name","content":"é£åŠ¨ä¹‹çŸ³çš„åšå®¢"}],["meta",{"property":"og:title","content":"useState"}],["meta",{"property":"og:description","content":"useState è‹¥æƒ³è¯¦ç»†äº†è§£ï¼Œè¯·é˜…è¯»å¦‚ä¸‹å®˜æ–¹æ–‡æ¡£ï¼š React å®˜æ–¹æ–‡æ¡£ - useState React å®˜æ–¹æ–‡æ¡£ - æ›´æ–° state ä¸­çš„å¯¹è±¡ è°ƒç”¨ useState è¿”å›çš„æ•°æ®çš„ç¬¬äºŒé¡¹ï¼ˆå³ set å‡½æ•°ï¼‰ï¼Œä¼šæ›´æ–° state çš„å€¼å¹¶è§¦å‘å‡½æ•°ç»„ä»¶çš„é‡æ–°æ¸²æŸ“ã€‚ æ³¨æ„äº‹é¡¹ æ–°æ‰‹ä½¿ç”¨useStateï¼Œéœ€è¦æ³¨æ„å¦‚ä¸‹äº‹é¡¹ã€‚ set å‡½æ•°ä»…æ›´æ–°ä¸‹ä¸€æ¬¡æ¸²æŸ“çš„..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2024-10-22T03:59:06.000Z"}],["meta",{"property":"article:modified_time","content":"2024-10-22T03:59:06.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"useState\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-10-22T03:59:06.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"","slug":"","link":"#","children":[]},{"level":2,"title":"æ³¨æ„äº‹é¡¹","slug":"æ³¨æ„äº‹é¡¹","link":"#æ³¨æ„äº‹é¡¹","children":[{"level":3,"title":"set å‡½æ•°ä»…æ›´æ–°ä¸‹ä¸€æ¬¡æ¸²æŸ“çš„çŠ¶æ€å˜é‡","slug":"set-å‡½æ•°ä»…æ›´æ–°ä¸‹ä¸€æ¬¡æ¸²æŸ“çš„çŠ¶æ€å˜é‡","link":"#set-å‡½æ•°ä»…æ›´æ–°ä¸‹ä¸€æ¬¡æ¸²æŸ“çš„çŠ¶æ€å˜é‡","children":[]},{"level":3,"title":"æ–°å€¼ä¸æ—§å€¼ç›¸åŒæ—¶è·³è¿‡ç»„ä»¶çš„é‡æ–°æ¸²æŸ“","slug":"æ–°å€¼ä¸æ—§å€¼ç›¸åŒæ—¶è·³è¿‡ç»„ä»¶çš„é‡æ–°æ¸²æŸ“","link":"#æ–°å€¼ä¸æ—§å€¼ç›¸åŒæ—¶è·³è¿‡ç»„ä»¶çš„é‡æ–°æ¸²æŸ“","children":[]},{"level":3,"title":"æ‰¹é‡å¤„ç†çŠ¶æ€æ›´æ–°","slug":"æ‰¹é‡å¤„ç†çŠ¶æ€æ›´æ–°","link":"#æ‰¹é‡å¤„ç†çŠ¶æ€æ›´æ–°","children":[]},{"level":3,"title":"æ›´æ–°çŠ¶æ€ä¸­çš„å¯¹è±¡å’Œæ•°ç»„","slug":"æ›´æ–°çŠ¶æ€ä¸­çš„å¯¹è±¡å’Œæ•°ç»„","link":"#æ›´æ–°çŠ¶æ€ä¸­çš„å¯¹è±¡å’Œæ•°ç»„","children":[]},{"level":3,"title":"é¿å…é‡å¤åˆ›å»ºåˆå§‹çŠ¶æ€","slug":"é¿å…é‡å¤åˆ›å»ºåˆå§‹çŠ¶æ€","link":"#é¿å…é‡å¤åˆ›å»ºåˆå§‹çŠ¶æ€","children":[]},{"level":3,"title":"ä½¿ç”¨ key é‡ç½®ç»„ä»¶çŠ¶æ€","slug":"ä½¿ç”¨-key-é‡ç½®ç»„ä»¶çŠ¶æ€","link":"#ä½¿ç”¨-key-é‡ç½®ç»„ä»¶çŠ¶æ€","children":[]},{"level":3,"title":"å¦‚ä½•å°† state è®¾ç½®æˆä¸€ä¸ªå‡½æ•°","slug":"å¦‚ä½•å°†-state-è®¾ç½®æˆä¸€ä¸ªå‡½æ•°","link":"#å¦‚ä½•å°†-state-è®¾ç½®æˆä¸€ä¸ªå‡½æ•°","children":[]},{"level":3,"title":"ä½¿ç”¨ Immer ç¼–å†™ç®€æ´çš„æ›´æ–°é€»è¾‘","slug":"ä½¿ç”¨-immer-ç¼–å†™ç®€æ´çš„æ›´æ–°é€»è¾‘","link":"#ä½¿ç”¨-immer-ç¼–å†™ç®€æ´çš„æ›´æ–°é€»è¾‘","children":[]}]},{"level":2,"title":"åŸç†è¯´æ˜","slug":"åŸç†è¯´æ˜","link":"#åŸç†è¯´æ˜","children":[{"level":3,"title":"å¦‚ä½•æ›´æ–° state ä¸­çš„å¯¹è±¡ï¼Ÿ","slug":"å¦‚ä½•æ›´æ–°-state-ä¸­çš„å¯¹è±¡","link":"#å¦‚ä½•æ›´æ–°-state-ä¸­çš„å¯¹è±¡","children":[]},{"level":3,"title":"ä¸ºä»€ä¹ˆåœ¨ React ä¸­ä¸æ¨èç›´æ¥ä¿®æ”¹ stateï¼Ÿ","slug":"ä¸ºä»€ä¹ˆåœ¨-react-ä¸­ä¸æ¨èç›´æ¥ä¿®æ”¹-state","link":"#ä¸ºä»€ä¹ˆåœ¨-react-ä¸­ä¸æ¨èç›´æ¥ä¿®æ”¹-state","children":[]}]}],"git":{"createdTime":1729500051000,"updatedTime":1729569546000,"contributors":[{"name":"wind-stone","email":"wind-stone@qq.com","commits":2}]},"readingTime":{"minutes":8.05,"words":2415},"filePathRelative":"react/hooks/useState.md","localizedDate":"October 21, 2024","autoDesc":true}');
export {
  useState_html as comp,
  data
};
