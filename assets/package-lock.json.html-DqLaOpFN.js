import { r as resolveComponent, c as createElementBlock, d as createBaseVNode, a as createVNode, e as withCtx, b as createStaticVNode, o as openBlock, f as createTextVNode } from "./app-DNVdkGQA.js";
import { _ as _export_sfc } from "./plugin-vue_export-helper-1tPrXgE0.js";
const _sfc_main = {};
const _hoisted_1 = { class: "table-of-contents" };
function _sfc_render(_ctx, _cache) {
  const _component_router_link = resolveComponent("router-link");
  const _component_global_config = resolveComponent("global-config");
  return openBlock(), createElementBlock("div", null, [
    _cache[2] || (_cache[2] = createBaseVNode("h1", {
      id: "package-lock-json",
      tabindex: "-1"
    }, [
      createBaseVNode("a", {
        class: "header-anchor",
        href: "#package-lock-json"
      }, [
        createBaseVNode("span", null, "package-lock.json")
      ])
    ], -1)),
    createBaseVNode("nav", _hoisted_1, [
      createBaseVNode("ul", null, [
        createBaseVNode("li", null, [
          createVNode(_component_router_link, { to: "#关于-package-lock-json-你需要知道的一些事情" }, {
            default: withCtx(() => _cache[0] || (_cache[0] = [
              createTextVNode("关于 package-lock.json，你需要知道的一些事情")
            ])),
            _: 1
          })
        ]),
        createBaseVNode("li", null, [
          createVNode(_component_router_link, { to: "#npm-5-0-0-以后的版本变化" }, {
            default: withCtx(() => _cache[1] || (_cache[1] = [
              createTextVNode("npm 5.0.0 以后的版本变化")
            ])),
            _: 1
          })
        ])
      ])
    ]),
    _cache[3] || (_cache[3] = createStaticVNode('<h2 id="关于-package-lock-json-你需要知道的一些事情" tabindex="-1"><a class="header-anchor" href="#关于-package-lock-json-你需要知道的一些事情"><span>关于 package-lock.json，你需要知道的一些事情</span></a></h2><ul><li>若是你使用的<code>npm 5.0.0</code>及以上的版本，<code>package-lock.json</code>会默认自动生成。</li><li>你应该使用<code>package-lock.json</code>来确保一致的安装和兼容的依赖关系。</li><li>你应该将<code>package-lock.json</code>提交到源代码仓库</li></ul><h2 id="npm-5-0-0-以后的版本变化" tabindex="-1"><a class="header-anchor" href="#npm-5-0-0-以后的版本变化"><span>npm 5.0.0 以后的版本变化</span></a></h2><p>参考: <a href="https://www.zhihu.com/question/62331583" target="_blank" rel="noopener noreferrer">npm install 生成的package-lock.json是什么文件？有什么用？</a></p><p><code>npm 5.x</code>发布以来到现在的<code>npm 5.6.0</code>，<code>lock</code>的作用变更过好多次。从<code>npm 3.x</code>更新到了<code>npm 5</code>，但是发现执行<code>npm i</code>时的现象跟网络上的科普文不太一致。</p><p>有提到不管怎么修改<code>package.json</code>文件，重复执行<code>npm i</code>，<code>npm</code>都会根据<code>package-lock.json</code>文件描述的版本信息进行下载。<br> 也有提到重复<code>npm i</code>时，<code>npm</code>会不顾<code>package-lock.json</code>的信息，<br> 根据<code>package.json</code>中的包 Semantic versioning 版本信息下载更新模块（<code>package-lock.json</code>貌似没啥用了）。</p><p>查阅资料得知，自<code>npm 5.0</code>版本发布以来，<code>npm i</code>的规则发生了三次变化。</p><ol><li><code>npm 5.0.x</code>版本，不管<code>package.json</code>怎么变，<code>npm i</code>时都会根据<code>package-lock.json</code>文件下载。<br><a href="https://github.com/npm/npm/issues/16866" target="_blank" rel="noopener noreferrer">package-lock.json file not updated after package.json file is changed · Issue #16866 · npm/npm</a>这个<code>issue</code>控诉了这个问题，明明手动改了<code>package.json</code>，为啥不给我升级包！然后就导致了<code>npm 5.1.0</code>的问题。</li><li><code>npm 5.1.0</code>版本后<code>npm i</code>会无视<code>package-lock.json</code>文件，而是去下载最新的包。然后就有人提了这个<code>issue</code><a href="https://github.com/npm/npm/issues/17979" target="_blank" rel="noopener noreferrer">why is package-lock being ignored? · Issue #17979 · npm/npm</a>控诉这个问题，最后演变成<code>npm 5.4.2</code>版本后的规则。</li><li><code>npm 5.4.2</code>版本后，<a href="https://github.com/npm/npm/issues/17979" target="_blank" rel="noopener noreferrer">why is package-lock being ignored? · Issue #17979 · npm/npm</a>。大致意思是，如果改了<code>package.json</code>，且<code>package.json</code>和<code>package-lock.json</code>文件不同，那么执行<code>npm i</code>时<code>npm</code>会根据<code>package.json</code>中的版本号以及语义含义去下载最新的包，并更新至<code>package-lock.json</code>。如果两者是同一状态，那么执行<code>npm i</code>都会根据<code>package-lock.json</code>下载，不会理会<code>package.json</code>实际包的版本是否有新。</li></ol>', 8)),
    createVNode(_component_global_config)
  ]);
}
const packageLock_json_html = /* @__PURE__ */ _export_sfc(_sfc_main, [["render", _sfc_render], ["__file", "package-lock.json.html.vue"]]);
const data = JSON.parse('{"path":"/front-end-engineering/environment/package-manager/npm/package-lock.json.html","title":"package-lock.json","lang":"en-US","frontmatter":{"description":"package-lock.json 关于 package-lock.json，你需要知道的一些事情 若是你使用的npm 5.0.0及以上的版本，package-lock.json会默认自动生成。 你应该使用package-lock.json来确保一致的安装和兼容的依赖关系。 你应该将package-lock.json提交到源代码仓库 npm 5.0.0...","head":[["meta",{"property":"og:url","content":"https://blog.windstone.cc/front-end-engineering/environment/package-manager/npm/package-lock.json.html"}],["meta",{"property":"og:site_name","content":"风动之石的博客"}],["meta",{"property":"og:title","content":"package-lock.json"}],["meta",{"property":"og:description","content":"package-lock.json 关于 package-lock.json，你需要知道的一些事情 若是你使用的npm 5.0.0及以上的版本，package-lock.json会默认自动生成。 你应该使用package-lock.json来确保一致的安装和兼容的依赖关系。 你应该将package-lock.json提交到源代码仓库 npm 5.0.0..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2024-10-31T12:47:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-10-31T12:47:00.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"package-lock.json\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-10-31T12:47:00.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"关于 package-lock.json，你需要知道的一些事情","slug":"关于-package-lock-json-你需要知道的一些事情","link":"#关于-package-lock-json-你需要知道的一些事情","children":[]},{"level":2,"title":"npm 5.0.0 以后的版本变化","slug":"npm-5-0-0-以后的版本变化","link":"#npm-5-0-0-以后的版本变化","children":[]}],"git":{"createdTime":1568648360000,"updatedTime":1730378820000,"contributors":[{"name":"wind-stone","email":"wind-stone@qq.com","commits":1}]},"readingTime":{"minutes":1.74,"words":522},"filePathRelative":"front-end-engineering/environment/package-manager/npm/package-lock.json.md","localizedDate":"September 16, 2019","autoDesc":true}');
export {
  packageLock_json_html as comp,
  data
};
